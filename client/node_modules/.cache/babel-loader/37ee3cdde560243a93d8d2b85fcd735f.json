{"ast":null,"code":"import _slicedToArray from \"C:\\\\flask\\\\New folder\\\\my-app\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\flask\\\\New folder\\\\my-app\\\\client\\\\src\\\\components\\\\Review\\\\Review.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport ReactStars from \"react-rating-stars-component\";\nimport \"./Review.css\";\nimport { addProductReview } from \"../../actions/productAction\";\nimport { useToasts } from \"react-toast-notifications\";\n\nfunction Review(_ref) {\n  var _this = this;\n\n  var product = _ref.product;\n\n  var _useToasts = useToasts(),\n      addToast = _useToasts.addToast;\n\n  var dispatch = useDispatch();\n\n  var _useState = useState(5),\n      _useState2 = _slicedToArray(_useState, 2),\n      rating = _useState2[0],\n      setrating = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      comment = _useState4[0],\n      setcomment = _useState4[1];\n\n  function sendreview() {\n    if (localStorage.getItem(\"currentUser\")) {\n      var currentUser = JSON.parse(localStorage.getItem(\"currentUser\"));\n      var alreadyreviewed;\n\n      for (var i = 0; i < product.reviews.length; i++) {\n        if (product.reviews[i].userid == currentUser._id) {\n          alreadyreviewed = true;\n        }\n      }\n\n      if (alreadyreviewed) {\n        alert(\"You have already reviewed this product!\");\n      } else {\n        var review = {\n          rating: rating,\n          comment: comment\n        };\n        dispatch(addProductReview(review, product._id));\n        addToast(\"You Review was added successfully\", {\n          appearance: \"success\"\n        });\n      }\n    } else {\n      window.location.href = \"/login\";\n    }\n  } // console.log(product.reviews)\n  // useEffect(() => {\n  //   alert(\"changed\")\n  // }, [product.reviews])\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"titlerev\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, \"Give Your Review\"), /*#__PURE__*/React.createElement(ReactStars, {\n    count: 5,\n    size: 28,\n    color: \"black\",\n    char: \"☆\",\n    isHalf: true,\n    activeColor: \"#ffd700\",\n    onChange: function onChange(e) {\n      setrating(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control mt-2\",\n    value: comment,\n    onChange: function onChange(e) {\n      setcomment(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn mt-3 ml-1\",\n    style: {\n      color: \"white\",\n      backgroundColor: \"teal\",\n      width: \"200px\"\n    },\n    onClick: sendreview,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, \" \", \"Submit Review\", \" \"), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"titlerev\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }, \"Lastest Reviews\"), product.reviews && product.reviews.map(function (review) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(ReactStars, {\n      count: review.rating,\n      size: 28,\n      color: \"teal\",\n      char: \"☆\",\n      isHalf: true,\n      readonly: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 15\n      }\n    }, review.comment), /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 15\n      }\n    }, \"By : \", review.name, \" \"), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 15\n      }\n    }));\n  }));\n}\n\nexport default Review;","map":{"version":3,"names":["React","useState","useEffect","useDispatch","ReactStars","addProductReview","useToasts","Review","product","addToast","dispatch","rating","setrating","comment","setcomment","sendreview","localStorage","getItem","currentUser","JSON","parse","alreadyreviewed","i","reviews","length","userid","_id","alert","review","appearance","window","location","href","e","target","value","color","backgroundColor","width","map","name"],"sources":["C:/flask/New folder/my-app/client/src/components/Review/Review.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport ReactStars from \"react-rating-stars-component\";\r\nimport \"./Review.css\";\r\nimport { addProductReview } from \"../../actions/productAction\";\r\nimport { useToasts } from \"react-toast-notifications\";\r\n\r\nfunction Review({ product }) {\r\n  const { addToast } = useToasts();\r\n\r\n  const dispatch = useDispatch();\r\n  const [rating, setrating] = useState(5);\r\n  const [comment, setcomment] = useState(\"\");\r\n\r\n  function sendreview() {\r\n    if (localStorage.getItem(\"currentUser\")) {\r\n      const currentUser = JSON.parse(localStorage.getItem(\"currentUser\"));\r\n\r\n      var alreadyreviewed;\r\n\r\n      for (var i = 0; i < product.reviews.length; i++) {\r\n        if (product.reviews[i].userid == currentUser._id) {\r\n          alreadyreviewed = true;\r\n        }\r\n      }\r\n\r\n      if (alreadyreviewed) {\r\n        alert(\"You have already reviewed this product!\");\r\n      } else {\r\n        const review = {\r\n          rating: rating,\r\n          comment: comment,\r\n        };\r\n\r\n        dispatch(addProductReview(review, product._id));\r\n        addToast(\"You Review was added successfully\", {\r\n          appearance: \"success\",\r\n        });\r\n      }\r\n    } else {\r\n      window.location.href = \"/login\";\r\n    }\r\n  }\r\n\r\n  // console.log(product.reviews)\r\n\r\n  // useEffect(() => {\r\n  //   alert(\"changed\")\r\n  // }, [product.reviews])\r\n\r\n  return (\r\n    <div>\r\n      <h5 className=\"titlerev\">Give Your Review</h5>\r\n\r\n      <ReactStars\r\n        count={5}\r\n        size={28}\r\n        color={\"black\"}\r\n        char={\"☆\"}\r\n        isHalf={true}\r\n        activeColor=\"#ffd700\"\r\n        onChange={(e) => {\r\n          setrating(e);\r\n        }}\r\n      />\r\n\r\n      <input\r\n        type=\"text\"\r\n        className=\"form-control mt-2\"\r\n        value={comment}\r\n        onChange={(e) => {\r\n          setcomment(e.target.value);\r\n        }}\r\n      />\r\n      <button\r\n        className=\"btn mt-3 ml-1\"\r\n        style={{\r\n          color: \"white\",\r\n          backgroundColor: \"teal\",\r\n          width: \"200px\",\r\n        }}\r\n        onClick={sendreview}\r\n      >\r\n        {\" \"}\r\n        Submit Review{\" \"}\r\n      </button>\r\n      <hr />\r\n\r\n      <h5 className=\"titlerev\">Lastest Reviews</h5>\r\n      {product.reviews &&\r\n        product.reviews.map((review) => {\r\n          return (\r\n            <div>\r\n              <ReactStars\r\n                count={review.rating}\r\n                size={28}\r\n                color={\"teal\"}\r\n                char={\"☆\"}\r\n                isHalf={true}\r\n                readonly\r\n              />\r\n\r\n              <p>{review.comment}</p>\r\n              <p>By : {review.name} </p>\r\n              <hr />\r\n            </div>\r\n          );\r\n        })}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Review;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}