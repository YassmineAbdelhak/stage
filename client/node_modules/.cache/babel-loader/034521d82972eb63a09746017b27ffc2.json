{"ast":null,"code":"var _jsxFileName = \"C:\\\\flask\\\\New folder\\\\my-app\\\\client\\\\src\\\\components\\\\Review\\\\Review.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport ReactStars from \"react-rating-stars-component\";\nimport \"./Review.css\";\nimport { addProductReview } from \"../../actions/productAction\";\nimport { useToasts } from \"react-toast-notifications\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Review({\n  product\n}) {\n  _s();\n\n  const {\n    addToast\n  } = useToasts();\n  const dispatch = useDispatch();\n  const [rating, setrating] = useState(5);\n  const [comment, setcomment] = useState(\"\");\n\n  function sendreview() {\n    if (localStorage.getItem(\"currentUser\")) {\n      const currentUser = JSON.parse(localStorage.getItem(\"currentUser\"));\n      var alreadyreviewed;\n\n      for (var i = 0; i < product.reviews.length; i++) {\n        if (product.reviews[i].userid == currentUser._id) {\n          alreadyreviewed = true;\n        }\n      }\n\n      if (alreadyreviewed) {\n        alert(\"You have already reviewed this product!\");\n      } else {\n        const review = {\n          rating: rating,\n          comment: comment\n        };\n        dispatch(addProductReview(review, product._id));\n        addToast(\"You Review was added successfully\", {\n          appearance: \"success\"\n        });\n      }\n    } else {\n      window.location.href = \"/login\";\n    }\n  } // console.log(product.reviews)\n  // useEffect(() => {\n  //   alert(\"changed\")\n  // }, [product.reviews])\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n      className: \"titlerev\",\n      children: \"Give Your Review\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ReactStars, {\n      count: 5,\n      size: 28,\n      color: \"black\",\n      char: \"☆\",\n      isHalf: true,\n      activeColor: \"#ffd700\",\n      onChange: e => {\n        setrating(e);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      className: \"form-control mt-2\",\n      value: comment,\n      onChange: e => {\n        setcomment(e.target.value);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn mt-3 ml-1\",\n      style: {\n        color: \"white\",\n        backgroundColor: \"teal\",\n        width: \"200px\"\n      },\n      onClick: sendreview,\n      children: [\" \", \"Submit Review\", \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n      className: \"titlerev\",\n      children: \"Lastest Reviews\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), product.reviews && product.reviews.map(review => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(ReactStars, {\n          count: review.rating,\n          size: 28,\n          color: \"teal\",\n          char: \"☆\",\n          isHalf: true,\n          readonly: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: review.comment\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"By : \", review.name, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Review, \"wzqF/LJhxnDMJYCUNpE0kRc9KCw=\", false, function () {\n  return [useToasts, useDispatch];\n});\n\n_c = Review;\nexport default Review;\n\nvar _c;\n\n$RefreshReg$(_c, \"Review\");","map":{"version":3,"sources":["C:/flask/New folder/my-app/client/src/components/Review/Review.jsx"],"names":["React","useState","useEffect","useDispatch","ReactStars","addProductReview","useToasts","Review","product","addToast","dispatch","rating","setrating","comment","setcomment","sendreview","localStorage","getItem","currentUser","JSON","parse","alreadyreviewed","i","reviews","length","userid","_id","alert","review","appearance","window","location","href","e","target","value","color","backgroundColor","width","map","name"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAO,cAAP;AACA,SAASC,gBAAT,QAAiC,6BAAjC;AACA,SAASC,SAAT,QAA0B,2BAA1B;;;AAEA,SAASC,MAAT,CAAgB;AAAEC,EAAAA;AAAF,CAAhB,EAA6B;AAAA;;AAC3B,QAAM;AAAEC,IAAAA;AAAF,MAAeH,SAAS,EAA9B;AAEA,QAAMI,QAAQ,GAAGP,WAAW,EAA5B;AACA,QAAM,CAACQ,MAAD,EAASC,SAAT,IAAsBX,QAAQ,CAAC,CAAD,CAApC;AACA,QAAM,CAACY,OAAD,EAAUC,UAAV,IAAwBb,QAAQ,CAAC,EAAD,CAAtC;;AAEA,WAASc,UAAT,GAAsB;AACpB,QAAIC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAJ,EAAyC;AACvC,YAAMC,WAAW,GAAGC,IAAI,CAACC,KAAL,CAAWJ,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAX,CAApB;AAEA,UAAII,eAAJ;;AAEA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGd,OAAO,CAACe,OAAR,CAAgBC,MAApC,EAA4CF,CAAC,EAA7C,EAAiD;AAC/C,YAAId,OAAO,CAACe,OAAR,CAAgBD,CAAhB,EAAmBG,MAAnB,IAA6BP,WAAW,CAACQ,GAA7C,EAAkD;AAChDL,UAAAA,eAAe,GAAG,IAAlB;AACD;AACF;;AAED,UAAIA,eAAJ,EAAqB;AACnBM,QAAAA,KAAK,CAAC,yCAAD,CAAL;AACD,OAFD,MAEO;AACL,cAAMC,MAAM,GAAG;AACbjB,UAAAA,MAAM,EAAEA,MADK;AAEbE,UAAAA,OAAO,EAAEA;AAFI,SAAf;AAKAH,QAAAA,QAAQ,CAACL,gBAAgB,CAACuB,MAAD,EAASpB,OAAO,CAACkB,GAAjB,CAAjB,CAAR;AACAjB,QAAAA,QAAQ,CAAC,mCAAD,EAAsC;AAC5CoB,UAAAA,UAAU,EAAE;AADgC,SAAtC,CAAR;AAGD;AACF,KAxBD,MAwBO;AACLC,MAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,QAAvB;AACD;AACF,GAnC0B,CAqC3B;AAEA;AACA;AACA;;;AAEA,sBACE;AAAA,4BACE;AAAI,MAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAGE,QAAC,UAAD;AACE,MAAA,KAAK,EAAE,CADT;AAEE,MAAA,IAAI,EAAE,EAFR;AAGE,MAAA,KAAK,EAAE,OAHT;AAIE,MAAA,IAAI,EAAE,GAJR;AAKE,MAAA,MAAM,EAAE,IALV;AAME,MAAA,WAAW,EAAC,SANd;AAOE,MAAA,QAAQ,EAAGC,CAAD,IAAO;AACfrB,QAAAA,SAAS,CAACqB,CAAD,CAAT;AACD;AATH;AAAA;AAAA;AAAA;AAAA,YAHF,eAeE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,SAAS,EAAC,mBAFZ;AAGE,MAAA,KAAK,EAAEpB,OAHT;AAIE,MAAA,QAAQ,EAAGoB,CAAD,IAAO;AACfnB,QAAAA,UAAU,CAACmB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAV;AACD;AANH;AAAA;AAAA;AAAA;AAAA,YAfF,eAuBE;AACE,MAAA,SAAS,EAAC,eADZ;AAEE,MAAA,KAAK,EAAE;AACLC,QAAAA,KAAK,EAAE,OADF;AAELC,QAAAA,eAAe,EAAE,MAFZ;AAGLC,QAAAA,KAAK,EAAE;AAHF,OAFT;AAOE,MAAA,OAAO,EAAEvB,UAPX;AAAA,iBASG,GATH,mBAUgB,GAVhB;AAAA;AAAA;AAAA;AAAA;AAAA,YAvBF,eAmCE;AAAA;AAAA;AAAA;AAAA,YAnCF,eAqCE;AAAI,MAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YArCF,EAsCGP,OAAO,CAACe,OAAR,IACCf,OAAO,CAACe,OAAR,CAAgBgB,GAAhB,CAAqBX,MAAD,IAAY;AAC9B,0BACE;AAAA,gCACE,QAAC,UAAD;AACE,UAAA,KAAK,EAAEA,MAAM,CAACjB,MADhB;AAEE,UAAA,IAAI,EAAE,EAFR;AAGE,UAAA,KAAK,EAAE,MAHT;AAIE,UAAA,IAAI,EAAE,GAJR;AAKE,UAAA,MAAM,EAAE,IALV;AAME,UAAA,QAAQ;AANV;AAAA;AAAA;AAAA;AAAA,gBADF,eAUE;AAAA,oBAAIiB,MAAM,CAACf;AAAX;AAAA;AAAA;AAAA;AAAA,gBAVF,eAWE;AAAA,8BAASe,MAAM,CAACY,IAAhB;AAAA;AAAA;AAAA;AAAA;AAAA,gBAXF,eAYE;AAAA;AAAA;AAAA;AAAA,gBAZF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF;AAgBD,KAjBD,CAvCJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AA4DD;;GAvGQjC,M;UACcD,S,EAEJH,W;;;KAHVI,M;AAyGT,eAAeA,MAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport ReactStars from \"react-rating-stars-component\";\r\nimport \"./Review.css\";\r\nimport { addProductReview } from \"../../actions/productAction\";\r\nimport { useToasts } from \"react-toast-notifications\";\r\n\r\nfunction Review({ product }) {\r\n  const { addToast } = useToasts();\r\n\r\n  const dispatch = useDispatch();\r\n  const [rating, setrating] = useState(5);\r\n  const [comment, setcomment] = useState(\"\");\r\n\r\n  function sendreview() {\r\n    if (localStorage.getItem(\"currentUser\")) {\r\n      const currentUser = JSON.parse(localStorage.getItem(\"currentUser\"));\r\n\r\n      var alreadyreviewed;\r\n\r\n      for (var i = 0; i < product.reviews.length; i++) {\r\n        if (product.reviews[i].userid == currentUser._id) {\r\n          alreadyreviewed = true;\r\n        }\r\n      }\r\n\r\n      if (alreadyreviewed) {\r\n        alert(\"You have already reviewed this product!\");\r\n      } else {\r\n        const review = {\r\n          rating: rating,\r\n          comment: comment,\r\n        };\r\n\r\n        dispatch(addProductReview(review, product._id));\r\n        addToast(\"You Review was added successfully\", {\r\n          appearance: \"success\",\r\n        });\r\n      }\r\n    } else {\r\n      window.location.href = \"/login\";\r\n    }\r\n  }\r\n\r\n  // console.log(product.reviews)\r\n\r\n  // useEffect(() => {\r\n  //   alert(\"changed\")\r\n  // }, [product.reviews])\r\n\r\n  return (\r\n    <div>\r\n      <h5 className=\"titlerev\">Give Your Review</h5>\r\n\r\n      <ReactStars\r\n        count={5}\r\n        size={28}\r\n        color={\"black\"}\r\n        char={\"☆\"}\r\n        isHalf={true}\r\n        activeColor=\"#ffd700\"\r\n        onChange={(e) => {\r\n          setrating(e);\r\n        }}\r\n      />\r\n\r\n      <input\r\n        type=\"text\"\r\n        className=\"form-control mt-2\"\r\n        value={comment}\r\n        onChange={(e) => {\r\n          setcomment(e.target.value);\r\n        }}\r\n      />\r\n      <button\r\n        className=\"btn mt-3 ml-1\"\r\n        style={{\r\n          color: \"white\",\r\n          backgroundColor: \"teal\",\r\n          width: \"200px\",\r\n        }}\r\n        onClick={sendreview}\r\n      >\r\n        {\" \"}\r\n        Submit Review{\" \"}\r\n      </button>\r\n      <hr />\r\n\r\n      <h5 className=\"titlerev\">Lastest Reviews</h5>\r\n      {product.reviews &&\r\n        product.reviews.map((review) => {\r\n          return (\r\n            <div>\r\n              <ReactStars\r\n                count={review.rating}\r\n                size={28}\r\n                color={\"teal\"}\r\n                char={\"☆\"}\r\n                isHalf={true}\r\n                readonly\r\n              />\r\n\r\n              <p>{review.comment}</p>\r\n              <p>By : {review.name} </p>\r\n              <hr />\r\n            </div>\r\n          );\r\n        })}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Review;\r\n"]},"metadata":{},"sourceType":"module"}