{"ast":null,"code":"import axios from \"axios\";\nexport const registerNewUser = user => dispatch => {\n  dispatch({\n    type: \"USER_REGISTER_REQUEST\"\n  });\n  axios.post(\"/api/users/register\", user).then(res => {\n    dispatch({\n      type: \"USER_REGISTER_SUCCESS\"\n    });\n    window.location.href = \"/login\";\n    console.log(res);\n  }).catch(err => {\n    dispatch({\n      type: \"USER_REGISTER_FAILED\"\n    });\n    console.log(err);\n  });\n};\nexport const loginUser = user => dispatch => {\n  dispatch({\n    type: \"USER_LOGIN_REQUEST\"\n  });\n  axios.post(\"/api/users/login\", user).then(res => {\n    dispatch({\n      type: \"USER_LOGIN_SUCCESS\"\n    });\n    localStorage.setItem(\"currentUser\", JSON.stringify(res.data));\n    window.location.href = \"/\";\n\n    if (user.email == \"admin@gmail.com\") {\n      window.location.href = \"/admin\";\n    }\n  }).catch(err => {\n    dispatch({\n      type: \"USER_LOGIN_FAILED\",\n      payload: err\n    });\n    console.log(err);\n  });\n};\nexport const logoutUser = () => dispatch => {\n  localStorage.removeItem(\"currentUser\");\n  localStorage.removeItem(\"cartItems\");\n  dispatch({\n    type: \"USER_LOGOUT\"\n  });\n  window.location.href = \"/login\";\n};\nexport const getAllUsers = () => dispatch => {\n  dispatch({\n    type: \"GET_ALLUSERS_REQUEST\"\n  });\n  axios.get(\"/api/users/getallusers\").then(res => {\n    dispatch({\n      type: \"GET_ALLUSERS_SUCCESS\",\n      payload: res.data\n    });\n  }).catch(err => {\n    dispatch({\n      type: \"GET_ALLUSERS_FAILED\",\n      payload: err\n    });\n  });\n};\nexport const deleteUser = userid => dispatch => {\n  dispatch({\n    type: \"DELETE_USER_REQUEST\"\n  });\n  axios.post(\"/api/users/deleteuser\", {\n    userid\n  }).then(res => {\n    dispatch({\n      type: \"DELETE_USER_SUCCESS\",\n      payload: res.data\n    });\n    window.location.reload();\n  }).catch(err => {\n    dispatch({\n      type: \"DELETE_USER_FAILED\",\n      payload: err\n    });\n  });\n};","map":{"version":3,"sources":["C:/Users/Chayma/Desktop/my-app/client/src/actions/userAction.js"],"names":["axios","registerNewUser","user","dispatch","type","post","then","res","window","location","href","console","log","catch","err","loginUser","localStorage","setItem","JSON","stringify","data","email","payload","logoutUser","removeItem","getAllUsers","get","deleteUser","userid","reload"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,eAAe,GAAIC,IAAD,IAAWC,QAAD,IAAc;AACrDA,EAAAA,QAAQ,CAAC;AAAEC,IAAAA,IAAI,EAAE;AAAR,GAAD,CAAR;AAEAJ,EAAAA,KAAK,CACFK,IADH,CACQ,qBADR,EAC+BH,IAD/B,EAEGI,IAFH,CAESC,GAAD,IAAS;AACbJ,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAR;AACAI,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,QAAvB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYL,GAAZ;AACD,GANH,EAOGM,KAPH,CAOUC,GAAD,IAAS;AACdX,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAR;AACAO,IAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AACD,GAVH;AAWD,CAdM;AAeP,OAAO,MAAMC,SAAS,GAAIb,IAAD,IAAWC,QAAD,IAAc;AAC/CA,EAAAA,QAAQ,CAAC;AAAEC,IAAAA,IAAI,EAAE;AAAR,GAAD,CAAR;AAEAJ,EAAAA,KAAK,CACFK,IADH,CACQ,kBADR,EAC4BH,IAD5B,EAEGI,IAFH,CAESC,GAAD,IAAS;AACbJ,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAR;AAEAY,IAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoCC,IAAI,CAACC,SAAL,CAAeZ,GAAG,CAACa,IAAnB,CAApC;AAEAZ,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,GAAvB;;AAEA,QAAIR,IAAI,CAACmB,KAAL,IAAc,iBAAlB,EAAqC;AACnCb,MAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,QAAvB;AACD;AACF,GAZH,EAaGG,KAbH,CAaUC,GAAD,IAAS;AACdX,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE,mBAAR;AAA6BkB,MAAAA,OAAO,EAAER;AAAtC,KAAD,CAAR;AACAH,IAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AACD,GAhBH;AAiBD,CApBM;AAsBP,OAAO,MAAMS,UAAU,GAAG,MAAOpB,QAAD,IAAc;AAC5Ca,EAAAA,YAAY,CAACQ,UAAb,CAAwB,aAAxB;AACAR,EAAAA,YAAY,CAACQ,UAAb,CAAwB,WAAxB;AAEArB,EAAAA,QAAQ,CAAC;AAAEC,IAAAA,IAAI,EAAE;AAAR,GAAD,CAAR;AAEAI,EAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,QAAvB;AACD,CAPM;AASP,OAAO,MAAMe,WAAW,GAAG,MAAOtB,QAAD,IAAc;AAC7CA,EAAAA,QAAQ,CAAC;AAAEC,IAAAA,IAAI,EAAE;AAAR,GAAD,CAAR;AAEAJ,EAAAA,KAAK,CACF0B,GADH,CACO,wBADP,EAEGpB,IAFH,CAESC,GAAD,IAAS;AACbJ,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE,sBAAR;AAAgCkB,MAAAA,OAAO,EAAEf,GAAG,CAACa;AAA7C,KAAD,CAAR;AACD,GAJH,EAKGP,KALH,CAKUC,GAAD,IAAS;AACdX,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE,qBAAR;AAA+BkB,MAAAA,OAAO,EAAER;AAAxC,KAAD,CAAR;AACD,GAPH;AAQD,CAXM;AAaP,OAAO,MAAMa,UAAU,GAAIC,MAAD,IAAazB,QAAD,IAAc;AAClDA,EAAAA,QAAQ,CAAC;AAAEC,IAAAA,IAAI,EAAE;AAAR,GAAD,CAAR;AAEAJ,EAAAA,KAAK,CACFK,IADH,CACQ,uBADR,EACiC;AAAEuB,IAAAA;AAAF,GADjC,EAEGtB,IAFH,CAESC,GAAD,IAAS;AACbJ,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE,qBAAR;AAA+BkB,MAAAA,OAAO,EAAEf,GAAG,CAACa;AAA5C,KAAD,CAAR;AACAZ,IAAAA,MAAM,CAACC,QAAP,CAAgBoB,MAAhB;AACD,GALH,EAMGhB,KANH,CAMUC,GAAD,IAAS;AACdX,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE,oBAAR;AAA8BkB,MAAAA,OAAO,EAAER;AAAvC,KAAD,CAAR;AACD,GARH;AASD,CAZM","sourcesContent":["import axios from \"axios\";\r\n\r\nexport const registerNewUser = (user) => (dispatch) => {\r\n  dispatch({ type: \"USER_REGISTER_REQUEST\" });\r\n\r\n  axios\r\n    .post(\"/api/users/register\", user)\r\n    .then((res) => {\r\n      dispatch({ type: \"USER_REGISTER_SUCCESS\" });\r\n      window.location.href = \"/login\";\r\n      console.log(res);\r\n    })\r\n    .catch((err) => {\r\n      dispatch({ type: \"USER_REGISTER_FAILED\" });\r\n      console.log(err);\r\n    });\r\n};\r\nexport const loginUser = (user) => (dispatch) => {\r\n  dispatch({ type: \"USER_LOGIN_REQUEST\" });\r\n\r\n  axios\r\n    .post(\"/api/users/login\", user)\r\n    .then((res) => {\r\n      dispatch({ type: \"USER_LOGIN_SUCCESS\" });\r\n\r\n      localStorage.setItem(\"currentUser\", JSON.stringify(res.data));\r\n      \r\n      window.location.href = \"/\";\r\n\r\n      if (user.email == \"admin@gmail.com\") {\r\n        window.location.href = \"/admin\";\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      dispatch({ type: \"USER_LOGIN_FAILED\", payload: err });\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const logoutUser = () => (dispatch) => {\r\n  localStorage.removeItem(\"currentUser\");\r\n  localStorage.removeItem(\"cartItems\");\r\n\r\n  dispatch({ type: \"USER_LOGOUT\" });\r\n\r\n  window.location.href = \"/login\";\r\n};\r\n\r\nexport const getAllUsers = () => (dispatch) => {\r\n  dispatch({ type: \"GET_ALLUSERS_REQUEST\" });\r\n\r\n  axios\r\n    .get(\"/api/users/getallusers\")\r\n    .then((res) => {\r\n      dispatch({ type: \"GET_ALLUSERS_SUCCESS\", payload: res.data });\r\n    })\r\n    .catch((err) => {\r\n      dispatch({ type: \"GET_ALLUSERS_FAILED\", payload: err });\r\n    });\r\n};\r\n\r\nexport const deleteUser = (userid) => (dispatch) => {\r\n  dispatch({ type: \"DELETE_USER_REQUEST\" });\r\n\r\n  axios\r\n    .post(\"/api/users/deleteuser\", { userid })\r\n    .then((res) => {\r\n      dispatch({ type: \"DELETE_USER_SUCCESS\", payload: res.data });\r\n      window.location.reload();\r\n    })\r\n    .catch((err) => {\r\n      dispatch({ type: \"DELETE_USER_FAILED\", payload: err });\r\n    });\r\n};\r\n"]},"metadata":{},"sourceType":"module"}