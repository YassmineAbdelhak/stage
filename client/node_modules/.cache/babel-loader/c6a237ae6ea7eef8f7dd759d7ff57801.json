{"ast":null,"code":"import axios from \"axios\";\nexport var getAllProducts = function getAllProducts() {\n  return function (dispatch) {\n    dispatch({\n      type: \"GET_PRODUCTS_REQUEST\"\n    });\n    axios.get(\"/products/\").then(function (res) {\n      console.log(res);\n      dispatch({\n        type: \"GET_PRODUCTS_SUCCESS\",\n        payload: res.data\n      });\n    }).catch(function (err) {\n      console.log(err);\n      dispatch({\n        type: \"GET_PRODUCTS_FAILED\",\n        payload: err\n      });\n    });\n  };\n};\nexport var getProductById = function getProductById(productid) {\n  return function (dispatch) {\n    dispatch({\n      type: \"GET_PRODUCTBYID_REQUEST\"\n    });\n    axios.post(\"/products/\", {\n      productid: productid\n    }).then(function (res) {\n      console.log(res);\n      dispatch({\n        type: \"GET_PRODUCTBYID_SUCCESS\",\n        payload: res.data\n      });\n    }).catch(function (err) {\n      console.log(err);\n      dispatch({\n        type: \"GET_PRODUCTBY_FAILED\",\n        payload: err\n      });\n    });\n  };\n};\nexport var filtreProducts = function filtreProducts(searchkey, category) {\n  return function (dispatch) {\n    var filtredproducts;\n    dispatch({\n      type: \"GET_PRODUCTS_REQUEST\"\n    });\n    axios.get(\"//products/\").then(function (res) {\n      filtredproducts = res.data;\n\n      if (searchkey) {\n        filtredproducts = res.data.filter(function (product) {\n          return product.name.toLowerCase().includes(searchkey);\n        });\n      }\n\n      if (category.toLowerCase() !== \"all\") {\n        filtredproducts = res.data.filter(function (product) {\n          return product.category.toLowerCase().includes(category.toLowerCase());\n        });\n      }\n\n      dispatch({\n        type: \"GET_PRODUCTS_SUCCESS\",\n        payload: filtredproducts\n      });\n    }).catch(function (err) {\n      dispatch({\n        type: \"GET_PRODUCTS_FAILED\"\n      });\n    });\n  };\n};\nexport var addProductReview = function addProductReview(review, productid) {\n  return function (dispatch, getState) {\n    dispatch({\n      type: \"ADD_PRODUCT_REVIEW_REQUEST\"\n    });\n    var currentUser = getState().loginReducer.currentUser;\n    axios.post(\"/api/products/addreview\", {\n      review: review,\n      productid: productid,\n      currentUser: currentUser\n    }).then(function (res) {\n      console.log(res);\n      dispatch({\n        type: \"ADD_PRODUCT_REVIEW_SUCCESS\"\n      });\n      window.location.reload();\n    }).catch(function (err) {\n      dispatch({\n        type: \"ADD_PRODUCT_REVIEW_FAILED\"\n      });\n    });\n  };\n};\nexport var deleteProduct = function deleteProduct(productid) {\n  return function (dispatch) {\n    dispatch({\n      type: \"DELETE_PRODUCT_REQUEST\"\n    });\n    axios.post(\"/products/\", {\n      productid: productid\n    }).then(function (res) {\n      dispatch({\n        type: \"DELETE_PRODUCT_SUCCESS\",\n        payload: res.data\n      });\n      window.location.reload();\n    }).catch(function (err) {\n      dispatch({\n        type: \"DELETE_PRODUCT_FAILED\",\n        payload: err\n      });\n    });\n  };\n};\nexport var addProduct = function addProduct(product) {\n  return function (dispatch) {\n    dispatch({\n      type: \"ADD_PRODUCT_REQUEST\"\n    });\n    axios.post(\"/products/\", {\n      product: product\n    }).then(function (res) {\n      console.log(res);\n      dispatch({\n        type: \"ADD_PRODUCT_SUCCESS\"\n      });\n      window.location.reload();\n    }).catch(function (err) {\n      dispatch({\n        type: \"ADD_PRODUCT_FAILED\",\n        payload: err\n      });\n    });\n  };\n};\nexport var updateProduct = function updateProduct(productid, updatedproduct) {\n  return function (dispatch) {\n    dispatch({\n      type: \"UPDATE_PRODUCT_REQUEST\"\n    });\n    axios.post(\"/products/\", {\n      productid: productid,\n      updatedproduct: updatedproduct\n    }).then(function (res) {\n      console.log(res);\n      dispatch({\n        type: \"UPDATE_PRODUCT_SUCCESS\"\n      });\n      window.location.href = \"/admin/productslist\";\n    }).catch(function (err) {\n      dispatch({\n        type: \"UPDATE_PRODUCT_FAILED\"\n      });\n    });\n  };\n};","map":{"version":3,"names":["axios","getAllProducts","dispatch","type","get","then","res","console","log","payload","data","catch","err","getProductById","productid","post","filtreProducts","searchkey","category","filtredproducts","filter","product","name","toLowerCase","includes","addProductReview","review","getState","currentUser","loginReducer","window","location","reload","deleteProduct","addProduct","updateProduct","updatedproduct","href"],"sources":["C:/flask/New folder/my-app/client/src/actions/productAction.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\n\r\nexport const getAllProducts = () => (dispatch) => {\r\n  dispatch({ type: \"GET_PRODUCTS_REQUEST\" });\r\n\r\n  axios\r\n    .get(\"/products/\")\r\n    .then((res) => {\r\n      console.log(res);\r\n\r\n      dispatch({ type: \"GET_PRODUCTS_SUCCESS\", payload: res.data });\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n      dispatch({ type: \"GET_PRODUCTS_FAILED\", payload: err });\r\n    });\r\n};\r\n\r\nexport const getProductById = (productid) => (dispatch) => {\r\n  dispatch({ type: \"GET_PRODUCTBYID_REQUEST\" });\r\n\r\n  axios\r\n    .post(\"/products/\", { productid })\r\n    .then((res) => {\r\n      console.log(res);\r\n\r\n      dispatch({ type: \"GET_PRODUCTBYID_SUCCESS\", payload: res.data });\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n      dispatch({ type: \"GET_PRODUCTBY_FAILED\", payload: err });\r\n    });\r\n};\r\n\r\nexport const filtreProducts = (searchkey, category) => (dispatch) => {\r\n  var filtredproducts;\r\n\r\n  dispatch({ type: \"GET_PRODUCTS_REQUEST\" });\r\n  axios\r\n    .get(\"//products/\")\r\n    .then((res) => {\r\n      filtredproducts = res.data;\r\n\r\n      if (searchkey) {\r\n        filtredproducts = res.data.filter((product) => {\r\n          return product.name.toLowerCase().includes(searchkey);\r\n        });\r\n      }\r\n\r\n      if (category.toLowerCase() !== \"all\") {\r\n        filtredproducts = res.data.filter((product) => {\r\n          return product.category\r\n            .toLowerCase()\r\n            .includes(category.toLowerCase());\r\n        });\r\n      }\r\n\r\n      dispatch({ type: \"GET_PRODUCTS_SUCCESS\", payload: filtredproducts });\r\n    })\r\n    .catch((err) => {\r\n      dispatch({ type: \"GET_PRODUCTS_FAILED\" });\r\n    });\r\n};\r\n\r\nexport const addProductReview = (review, productid) => (dispatch, getState) => {\r\n  dispatch({ type: \"ADD_PRODUCT_REVIEW_REQUEST\" });\r\n  const currentUser = getState().loginReducer.currentUser;\r\n  axios\r\n    .post(\"/api/products/addreview\", { review, productid, currentUser })\r\n    .then((res) => {\r\n      console.log(res);\r\n      dispatch({ type: \"ADD_PRODUCT_REVIEW_SUCCESS\" });\r\n\r\n      window.location.reload();\r\n    })\r\n    .catch((err) => {\r\n      dispatch({ type: \"ADD_PRODUCT_REVIEW_FAILED\" });\r\n    });\r\n};\r\n\r\nexport const deleteProduct = (productid) => (dispatch) => {\r\n  dispatch({ type: \"DELETE_PRODUCT_REQUEST\" });\r\n\r\n  axios\r\n    .post(\"/products/\", { productid })\r\n    .then((res) => {\r\n      dispatch({ type: \"DELETE_PRODUCT_SUCCESS\", payload: res.data });\r\n      window.location.reload();\r\n    })\r\n    .catch((err) => {\r\n      dispatch({ type: \"DELETE_PRODUCT_FAILED\", payload: err });\r\n    });\r\n};\r\n\r\nexport const addProduct = (product) => (dispatch) => {\r\n  dispatch({ type: \"ADD_PRODUCT_REQUEST\" });\r\n\r\n  axios\r\n    .post(\"/products/\", { product })\r\n    .then((res) => {\r\n      console.log(res);\r\n      dispatch({ type: \"ADD_PRODUCT_SUCCESS\" });\r\n      window.location.reload()\r\n    })\r\n    .catch((err) => {\r\n      dispatch({ type: \"ADD_PRODUCT_FAILED\", payload: err });\r\n    });\r\n};\r\n\r\nexport const updateProduct = (productid, updatedproduct) => (dispatch) => {\r\n  dispatch({ type: \"UPDATE_PRODUCT_REQUEST\" });\r\n\r\n  axios\r\n    .post(\"/products/\", { productid, updatedproduct })\r\n    .then((res) => {\r\n      console.log(res);\r\n      dispatch({ type: \"UPDATE_PRODUCT_SUCCESS\" });\r\n\r\n      window.location.href = \"/admin/productslist\";\r\n    })\r\n    .catch((err) => {\r\n      dispatch({ type: \"UPDATE_PRODUCT_FAILED\" });\r\n    });\r\n};\r\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAGA,OAAO,IAAMC,cAAc,GAAG,SAAjBA,cAAiB;EAAA,OAAM,UAACC,QAAD,EAAc;IAChDA,QAAQ,CAAC;MAAEC,IAAI,EAAE;IAAR,CAAD,CAAR;IAEAH,KAAK,CACFI,GADH,CACO,YADP,EAEGC,IAFH,CAEQ,UAACC,GAAD,EAAS;MACbC,OAAO,CAACC,GAAR,CAAYF,GAAZ;MAEAJ,QAAQ,CAAC;QAAEC,IAAI,EAAE,sBAAR;QAAgCM,OAAO,EAAEH,GAAG,CAACI;MAA7C,CAAD,CAAR;IACD,CANH,EAOGC,KAPH,CAOS,UAACC,GAAD,EAAS;MACdL,OAAO,CAACC,GAAR,CAAYI,GAAZ;MACAV,QAAQ,CAAC;QAAEC,IAAI,EAAE,qBAAR;QAA+BM,OAAO,EAAEG;MAAxC,CAAD,CAAR;IACD,CAVH;EAWD,CAd6B;AAAA,CAAvB;AAgBP,OAAO,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACC,SAAD;EAAA,OAAe,UAACZ,QAAD,EAAc;IACzDA,QAAQ,CAAC;MAAEC,IAAI,EAAE;IAAR,CAAD,CAAR;IAEAH,KAAK,CACFe,IADH,CACQ,YADR,EACsB;MAAED,SAAS,EAATA;IAAF,CADtB,EAEGT,IAFH,CAEQ,UAACC,GAAD,EAAS;MACbC,OAAO,CAACC,GAAR,CAAYF,GAAZ;MAEAJ,QAAQ,CAAC;QAAEC,IAAI,EAAE,yBAAR;QAAmCM,OAAO,EAAEH,GAAG,CAACI;MAAhD,CAAD,CAAR;IACD,CANH,EAOGC,KAPH,CAOS,UAACC,GAAD,EAAS;MACdL,OAAO,CAACC,GAAR,CAAYI,GAAZ;MACAV,QAAQ,CAAC;QAAEC,IAAI,EAAE,sBAAR;QAAgCM,OAAO,EAAEG;MAAzC,CAAD,CAAR;IACD,CAVH;EAWD,CAd6B;AAAA,CAAvB;AAgBP,OAAO,IAAMI,cAAc,GAAG,SAAjBA,cAAiB,CAACC,SAAD,EAAYC,QAAZ;EAAA,OAAyB,UAAChB,QAAD,EAAc;IACnE,IAAIiB,eAAJ;IAEAjB,QAAQ,CAAC;MAAEC,IAAI,EAAE;IAAR,CAAD,CAAR;IACAH,KAAK,CACFI,GADH,CACO,aADP,EAEGC,IAFH,CAEQ,UAACC,GAAD,EAAS;MACba,eAAe,GAAGb,GAAG,CAACI,IAAtB;;MAEA,IAAIO,SAAJ,EAAe;QACbE,eAAe,GAAGb,GAAG,CAACI,IAAJ,CAASU,MAAT,CAAgB,UAACC,OAAD,EAAa;UAC7C,OAAOA,OAAO,CAACC,IAAR,CAAaC,WAAb,GAA2BC,QAA3B,CAAoCP,SAApC,CAAP;QACD,CAFiB,CAAlB;MAGD;;MAED,IAAIC,QAAQ,CAACK,WAAT,OAA2B,KAA/B,EAAsC;QACpCJ,eAAe,GAAGb,GAAG,CAACI,IAAJ,CAASU,MAAT,CAAgB,UAACC,OAAD,EAAa;UAC7C,OAAOA,OAAO,CAACH,QAAR,CACJK,WADI,GAEJC,QAFI,CAEKN,QAAQ,CAACK,WAAT,EAFL,CAAP;QAGD,CAJiB,CAAlB;MAKD;;MAEDrB,QAAQ,CAAC;QAAEC,IAAI,EAAE,sBAAR;QAAgCM,OAAO,EAAEU;MAAzC,CAAD,CAAR;IACD,CApBH,EAqBGR,KArBH,CAqBS,UAACC,GAAD,EAAS;MACdV,QAAQ,CAAC;QAAEC,IAAI,EAAE;MAAR,CAAD,CAAR;IACD,CAvBH;EAwBD,CA5B6B;AAAA,CAAvB;AA8BP,OAAO,IAAMsB,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,MAAD,EAASZ,SAAT;EAAA,OAAuB,UAACZ,QAAD,EAAWyB,QAAX,EAAwB;IAC7EzB,QAAQ,CAAC;MAAEC,IAAI,EAAE;IAAR,CAAD,CAAR;IACA,IAAMyB,WAAW,GAAGD,QAAQ,GAAGE,YAAX,CAAwBD,WAA5C;IACA5B,KAAK,CACFe,IADH,CACQ,yBADR,EACmC;MAAEW,MAAM,EAANA,MAAF;MAAUZ,SAAS,EAATA,SAAV;MAAqBc,WAAW,EAAXA;IAArB,CADnC,EAEGvB,IAFH,CAEQ,UAACC,GAAD,EAAS;MACbC,OAAO,CAACC,GAAR,CAAYF,GAAZ;MACAJ,QAAQ,CAAC;QAAEC,IAAI,EAAE;MAAR,CAAD,CAAR;MAEA2B,MAAM,CAACC,QAAP,CAAgBC,MAAhB;IACD,CAPH,EAQGrB,KARH,CAQS,UAACC,GAAD,EAAS;MACdV,QAAQ,CAAC;QAAEC,IAAI,EAAE;MAAR,CAAD,CAAR;IACD,CAVH;EAWD,CAd+B;AAAA,CAAzB;AAgBP,OAAO,IAAM8B,aAAa,GAAG,SAAhBA,aAAgB,CAACnB,SAAD;EAAA,OAAe,UAACZ,QAAD,EAAc;IACxDA,QAAQ,CAAC;MAAEC,IAAI,EAAE;IAAR,CAAD,CAAR;IAEAH,KAAK,CACFe,IADH,CACQ,YADR,EACsB;MAAED,SAAS,EAATA;IAAF,CADtB,EAEGT,IAFH,CAEQ,UAACC,GAAD,EAAS;MACbJ,QAAQ,CAAC;QAAEC,IAAI,EAAE,wBAAR;QAAkCM,OAAO,EAAEH,GAAG,CAACI;MAA/C,CAAD,CAAR;MACAoB,MAAM,CAACC,QAAP,CAAgBC,MAAhB;IACD,CALH,EAMGrB,KANH,CAMS,UAACC,GAAD,EAAS;MACdV,QAAQ,CAAC;QAAEC,IAAI,EAAE,uBAAR;QAAiCM,OAAO,EAAEG;MAA1C,CAAD,CAAR;IACD,CARH;EASD,CAZ4B;AAAA,CAAtB;AAcP,OAAO,IAAMsB,UAAU,GAAG,SAAbA,UAAa,CAACb,OAAD;EAAA,OAAa,UAACnB,QAAD,EAAc;IACnDA,QAAQ,CAAC;MAAEC,IAAI,EAAE;IAAR,CAAD,CAAR;IAEAH,KAAK,CACFe,IADH,CACQ,YADR,EACsB;MAAEM,OAAO,EAAPA;IAAF,CADtB,EAEGhB,IAFH,CAEQ,UAACC,GAAD,EAAS;MACbC,OAAO,CAACC,GAAR,CAAYF,GAAZ;MACAJ,QAAQ,CAAC;QAAEC,IAAI,EAAE;MAAR,CAAD,CAAR;MACA2B,MAAM,CAACC,QAAP,CAAgBC,MAAhB;IACD,CANH,EAOGrB,KAPH,CAOS,UAACC,GAAD,EAAS;MACdV,QAAQ,CAAC;QAAEC,IAAI,EAAE,oBAAR;QAA8BM,OAAO,EAAEG;MAAvC,CAAD,CAAR;IACD,CATH;EAUD,CAbyB;AAAA,CAAnB;AAeP,OAAO,IAAMuB,aAAa,GAAG,SAAhBA,aAAgB,CAACrB,SAAD,EAAYsB,cAAZ;EAAA,OAA+B,UAAClC,QAAD,EAAc;IACxEA,QAAQ,CAAC;MAAEC,IAAI,EAAE;IAAR,CAAD,CAAR;IAEAH,KAAK,CACFe,IADH,CACQ,YADR,EACsB;MAAED,SAAS,EAATA,SAAF;MAAasB,cAAc,EAAdA;IAAb,CADtB,EAEG/B,IAFH,CAEQ,UAACC,GAAD,EAAS;MACbC,OAAO,CAACC,GAAR,CAAYF,GAAZ;MACAJ,QAAQ,CAAC;QAAEC,IAAI,EAAE;MAAR,CAAD,CAAR;MAEA2B,MAAM,CAACC,QAAP,CAAgBM,IAAhB,GAAuB,qBAAvB;IACD,CAPH,EAQG1B,KARH,CAQS,UAACC,GAAD,EAAS;MACdV,QAAQ,CAAC;QAAEC,IAAI,EAAE;MAAR,CAAD,CAAR;IACD,CAVH;EAWD,CAd4B;AAAA,CAAtB"},"metadata":{},"sourceType":"module"}