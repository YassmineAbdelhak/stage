{"ast":null,"code":"import axios from \"axios\";\nexport var registerNewUser = function registerNewUser(user) {\n  return function (dispatch) {\n    dispatch({\n      type: \"USER_REGISTER_REQUEST\"\n    });\n    axios.post(\"/users/register\", user).then(function (res) {\n      dispatch({\n        type: \"USER_REGISTER_SUCCESS\"\n      });\n      window.location.href = \"/login\";\n      console.log(res);\n    }).catch(function (err) {\n      dispatch({\n        type: \"USER_REGISTER_FAILED\"\n      });\n      console.log(err);\n    });\n  };\n};\nexport var loginUser = function loginUser(user) {\n  return function (dispatch) {\n    dispatch({\n      type: \"USER_LOGIN_REQUEST\"\n    });\n    axios.post(\"users/login\", user).then(function (res) {\n      dispatch({\n        type: \"USER_LOGIN_SUCCESS\"\n      });\n      localStorage.setItem(\"currentUser\", JSON.stringify(res.data));\n      localStorage.setItem(\"token\", res.data.token);\n      window.location.href = \"/\";\n\n      if (user.email == \"admin@gmail.com\") {\n        window.location.href = \"/admin\";\n      }\n    }).catch(function (err) {\n      dispatch({\n        type: \"USER_LOGIN_FAILED\",\n        payload: err\n      });\n      console.log(err);\n    });\n  };\n};\nexport var logoutUser = function logoutUser() {\n  return function (dispatch) {\n    localStorage.removeItem(\"currentUser\");\n    localStorage.removeItem(\"cartItems\");\n    dispatch({\n      type: \"USER_LOGOUT\"\n    });\n    window.location.href = \"/login\";\n  };\n};\nexport var getAllUsers = function getAllUsers() {\n  return function (dispatch) {\n    dispatch({\n      type: \"GET_ALLUSERS_REQUEST\"\n    });\n    axios.get(\"/\").then(function (res) {\n      dispatch({\n        type: \"GET_ALLUSERS_SUCCESS\",\n        payload: res.data\n      });\n    }).catch(function (err) {\n      dispatch({\n        type: \"GET_ALLUSERS_FAILED\",\n        payload: err\n      });\n    });\n  };\n};\nexport var deleteUser = function deleteUser(userid) {\n  return function (dispatch) {\n    dispatch({\n      type: \"DELETE_USER_REQUEST\"\n    });\n    axios.post(\"/\", {\n      userid: userid\n    }).then(function (res) {\n      dispatch({\n        type: \"DELETE_USER_SUCCESS\",\n        payload: res.data\n      });\n      window.location.reload();\n    }).catch(function (err) {\n      dispatch({\n        type: \"DELETE_USER_FAILED\",\n        payload: err\n      });\n    });\n  };\n};","map":{"version":3,"names":["axios","registerNewUser","user","dispatch","type","post","then","res","window","location","href","console","log","catch","err","loginUser","localStorage","setItem","JSON","stringify","data","token","email","payload","logoutUser","removeItem","getAllUsers","get","deleteUser","userid","reload"],"sources":["C:/flask/New folder/my-app/client/src/actions/userAction.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport const registerNewUser = (user) => (dispatch) => {\r\n  dispatch({ type: \"USER_REGISTER_REQUEST\" });\r\n\r\n  axios\r\n    .post(\"/users/register\", user)\r\n    .then((res) => {\r\n      dispatch({ type: \"USER_REGISTER_SUCCESS\" });\r\n      window.location.href = \"/login\";\r\n      console.log(res);\r\n    })\r\n    .catch((err) => {\r\n      dispatch({ type: \"USER_REGISTER_FAILED\" });\r\n      console.log(err);\r\n    });\r\n};\r\nexport const loginUser = (user) => (dispatch) => {\r\n  dispatch({ type: \"USER_LOGIN_REQUEST\" });\r\n\r\n  axios\r\n    .post(\"users/login\", user)\r\n    .then((res) => {\r\n      dispatch({ type: \"USER_LOGIN_SUCCESS\" });\r\n\r\n      localStorage.setItem(\"currentUser\", JSON.stringify(res.data));\r\n      localStorage.setItem(\"token\",res.data.token)\r\n      window.location.href = \"/\";\r\n\r\n      if (user.email == \"admin@gmail.com\") {\r\n        window.location.href = \"/admin\";\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      dispatch({ type: \"USER_LOGIN_FAILED\", payload: err });\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const logoutUser = () => (dispatch) => {\r\n  localStorage.removeItem(\"currentUser\");\r\n  localStorage.removeItem(\"cartItems\");\r\n\r\n  dispatch({ type: \"USER_LOGOUT\" });\r\n\r\n  window.location.href = \"/login\";\r\n};\r\n\r\nexport const getAllUsers = () => (dispatch) => {\r\n  dispatch({ type: \"GET_ALLUSERS_REQUEST\" });\r\n\r\n  axios\r\n    .get(\"/\")\r\n    .then((res) => {\r\n      dispatch({ type: \"GET_ALLUSERS_SUCCESS\", payload: res.data });\r\n    })\r\n    .catch((err) => {\r\n      dispatch({ type: \"GET_ALLUSERS_FAILED\", payload: err });\r\n    });\r\n};\r\n\r\nexport const deleteUser = (userid) => (dispatch) => {\r\n  dispatch({ type: \"DELETE_USER_REQUEST\" });\r\n\r\n  axios\r\n    .post(\"/\", { userid })\r\n    .then((res) => {\r\n      dispatch({ type: \"DELETE_USER_SUCCESS\", payload: res.data });\r\n      window.location.reload();\r\n    })\r\n    .catch((err) => {\r\n      dispatch({ type: \"DELETE_USER_FAILED\", payload: err });\r\n    });\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}