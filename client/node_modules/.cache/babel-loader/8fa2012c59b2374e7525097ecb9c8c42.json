{"ast":null,"code":"import axios from \"axios\";\nexport var placeOrder = function placeOrder(token, subtotal) {\n  return function (dispatch, getState) {\n    var currentUser = getState().loginReducer.currentUser;\n    var demoItems = getState().cartReducer.cartItems;\n    var cartItems = new Array();\n\n    for (var i = 0; i < demoItems.length; i++) {\n      var item = {\n        name: demoItems[i].name,\n        quantity: demoItems[i].quantity,\n        price: demoItems[i].price,\n        _id: demoItems[i]._id\n      };\n      cartItems.push(item);\n    }\n\n    dispatch({\n      type: \"PLACE_ORDER_REQUEST\"\n    });\n    axios.post(\"/api/orders/placeorder\", {\n      token: token,\n      subtotal: subtotal,\n      currentUser: currentUser,\n      cartItems: cartItems\n    }).then(function (res) {\n      dispatch({\n        type: \"PLACE_ORDER_SUCCESS\"\n      });\n      console.log(res);\n    }).catch(function (err) {\n      dispatch({\n        type: \"PLACE_ORDER_FAILED\"\n      });\n    });\n  };\n};\nexport var getOrdersByUserId = function getOrdersByUserId() {\n  return function (dispatch, getState) {\n    var userid = getState().loginReducer.currentUser._id;\n\n    dispatch({\n      type: \"GET_ORDERSBYUSERID_REQUEST\"\n    });\n    axios.post(\"/api/orders/getordersbyuserid\", {\n      userid: userid\n    }).then(function (res) {\n      dispatch({\n        type: \"GET_ORDERSBYUSERID_SUCCESS\",\n        payload: res.data\n      });\n      console.log(res.data);\n    }).catch(function (err) {\n      dispatch({\n        type: \"GET_ORDERSBYUSERID_FAILED\",\n        payload: err\n      });\n    });\n  };\n};\nexport var getAllOrders = function getAllOrders() {\n  return function (dispatch, getState) {\n    dispatch({\n      type: \"GET_ALLORDERS_REQUEST\"\n    });\n    axios.get(\"/api/orders/getallorders\").then(function (res) {\n      dispatch({\n        type: \"GET_ALLORDERS_SUCCESS\",\n        payload: res.data\n      });\n      console.log(res.data);\n    }).catch(function (err) {\n      dispatch({\n        type: \"GET_ALLORDERS_FAILED\",\n        payload: err\n      });\n    });\n  };\n};","map":{"version":3,"names":["axios","placeOrder","token","subtotal","dispatch","getState","currentUser","loginReducer","demoItems","cartReducer","cartItems","Array","i","length","item","name","quantity","price","_id","push","type","post","then","res","console","log","catch","err","getOrdersByUserId","userid","payload","data","getAllOrders","get"],"sources":["C:/flask/New folder/my-app/client/src/actions/orderAction.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport const placeOrder = (token, subtotal) => (dispatch, getState) => {\r\n  const currentUser = getState().loginReducer.currentUser;\r\n  const demoItems = getState().cartReducer.cartItems;\r\n  const cartItems = new Array();\r\n\r\n  for (var i = 0; i < demoItems.length; i++) {\r\n    var item = {\r\n      name: demoItems[i].name,\r\n      quantity: demoItems[i].quantity,\r\n      price: demoItems[i].price,\r\n      _id: demoItems[i]._id,\r\n    };\r\n\r\n    cartItems.push(item);\r\n  }\r\n\r\n  dispatch({ type: \"PLACE_ORDER_REQUEST\" });\r\n\r\n  axios\r\n    .post(\"/api/orders/placeorder\", { token, subtotal, currentUser, cartItems })\r\n    .then((res) => {\r\n      dispatch({ type: \"PLACE_ORDER_SUCCESS\" });\r\n      console.log(res);\r\n    })\r\n    .catch((err) => {\r\n      dispatch({ type: \"PLACE_ORDER_FAILED\" });\r\n    });\r\n};\r\n\r\nexport const getOrdersByUserId = () => (dispatch, getState) => {\r\n  \r\n  const userid = getState().loginReducer.currentUser._id;\r\n\r\n  dispatch({ type: \"GET_ORDERSBYUSERID_REQUEST\" });\r\n  axios\r\n    .post(\"/api/orders/getordersbyuserid\", { userid: userid })\r\n    .then((res) => {\r\n      dispatch({ type: \"GET_ORDERSBYUSERID_SUCCESS\", payload: res.data });\r\n      console.log(res.data);\r\n    })\r\n    .catch((err) => {\r\n      dispatch({ type: \"GET_ORDERSBYUSERID_FAILED\", payload: err });\r\n    });\r\n};\r\n\r\nexport const getAllOrders = () => (dispatch, getState) => {\r\n  \r\n\r\n\r\n  dispatch({ type: \"GET_ALLORDERS_REQUEST\" });\r\n  axios\r\n    .get(\"/api/orders/getallorders\")\r\n    .then((res) => {\r\n      dispatch({ type: \"GET_ALLORDERS_SUCCESS\", payload: res.data });\r\n      console.log(res.data);\r\n    })\r\n    .catch((err) => {\r\n      dispatch({ type: \"GET_ALLORDERS_FAILED\", payload: err });\r\n    });\r\n};\r\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,KAAD,EAAQC,QAAR;EAAA,OAAqB,UAACC,QAAD,EAAWC,QAAX,EAAwB;IACrE,IAAMC,WAAW,GAAGD,QAAQ,GAAGE,YAAX,CAAwBD,WAA5C;IACA,IAAME,SAAS,GAAGH,QAAQ,GAAGI,WAAX,CAAuBC,SAAzC;IACA,IAAMA,SAAS,GAAG,IAAIC,KAAJ,EAAlB;;IAEA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,SAAS,CAACK,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;MACzC,IAAIE,IAAI,GAAG;QACTC,IAAI,EAAEP,SAAS,CAACI,CAAD,CAAT,CAAaG,IADV;QAETC,QAAQ,EAAER,SAAS,CAACI,CAAD,CAAT,CAAaI,QAFd;QAGTC,KAAK,EAAET,SAAS,CAACI,CAAD,CAAT,CAAaK,KAHX;QAITC,GAAG,EAAEV,SAAS,CAACI,CAAD,CAAT,CAAaM;MAJT,CAAX;MAOAR,SAAS,CAACS,IAAV,CAAeL,IAAf;IACD;;IAEDV,QAAQ,CAAC;MAAEgB,IAAI,EAAE;IAAR,CAAD,CAAR;IAEApB,KAAK,CACFqB,IADH,CACQ,wBADR,EACkC;MAAEnB,KAAK,EAALA,KAAF;MAASC,QAAQ,EAARA,QAAT;MAAmBG,WAAW,EAAXA,WAAnB;MAAgCI,SAAS,EAATA;IAAhC,CADlC,EAEGY,IAFH,CAEQ,UAACC,GAAD,EAAS;MACbnB,QAAQ,CAAC;QAAEgB,IAAI,EAAE;MAAR,CAAD,CAAR;MACAI,OAAO,CAACC,GAAR,CAAYF,GAAZ;IACD,CALH,EAMGG,KANH,CAMS,UAACC,GAAD,EAAS;MACdvB,QAAQ,CAAC;QAAEgB,IAAI,EAAE;MAAR,CAAD,CAAR;IACD,CARH;EASD,CA3ByB;AAAA,CAAnB;AA6BP,OAAO,IAAMQ,iBAAiB,GAAG,SAApBA,iBAAoB;EAAA,OAAM,UAACxB,QAAD,EAAWC,QAAX,EAAwB;IAE7D,IAAMwB,MAAM,GAAGxB,QAAQ,GAAGE,YAAX,CAAwBD,WAAxB,CAAoCY,GAAnD;;IAEAd,QAAQ,CAAC;MAAEgB,IAAI,EAAE;IAAR,CAAD,CAAR;IACApB,KAAK,CACFqB,IADH,CACQ,+BADR,EACyC;MAAEQ,MAAM,EAAEA;IAAV,CADzC,EAEGP,IAFH,CAEQ,UAACC,GAAD,EAAS;MACbnB,QAAQ,CAAC;QAAEgB,IAAI,EAAE,4BAAR;QAAsCU,OAAO,EAAEP,GAAG,CAACQ;MAAnD,CAAD,CAAR;MACAP,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACQ,IAAhB;IACD,CALH,EAMGL,KANH,CAMS,UAACC,GAAD,EAAS;MACdvB,QAAQ,CAAC;QAAEgB,IAAI,EAAE,2BAAR;QAAqCU,OAAO,EAAEH;MAA9C,CAAD,CAAR;IACD,CARH;EASD,CAdgC;AAAA,CAA1B;AAgBP,OAAO,IAAMK,YAAY,GAAG,SAAfA,YAAe;EAAA,OAAM,UAAC5B,QAAD,EAAWC,QAAX,EAAwB;IAIxDD,QAAQ,CAAC;MAAEgB,IAAI,EAAE;IAAR,CAAD,CAAR;IACApB,KAAK,CACFiC,GADH,CACO,0BADP,EAEGX,IAFH,CAEQ,UAACC,GAAD,EAAS;MACbnB,QAAQ,CAAC;QAAEgB,IAAI,EAAE,uBAAR;QAAiCU,OAAO,EAAEP,GAAG,CAACQ;MAA9C,CAAD,CAAR;MACAP,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACQ,IAAhB;IACD,CALH,EAMGL,KANH,CAMS,UAACC,GAAD,EAAS;MACdvB,QAAQ,CAAC;QAAEgB,IAAI,EAAE,sBAAR;QAAgCU,OAAO,EAAEH;MAAzC,CAAD,CAAR;IACD,CARH;EASD,CAd2B;AAAA,CAArB"},"metadata":{},"sourceType":"module"}